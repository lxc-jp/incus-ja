(containers-and-vms)=
# コンテナと仮想マシンについて

Incus は*システムコンテナ*と*仮想マシン*という 2 つの異なるタイプの{ref}`インスタンス <expl-instances>`をサポートしています。

システムコンテナを動かす際は、Incus は完全なバージョンの OS をシミュレートします。このために、ホストシステム上で稼働しているカーネルが提供する機能を使用します。

仮想マシンを動かす際は、Incus はホストシステムのハードウェアを使用しますが、カーネルは仮想マシンにより提供されます。ですので、仮想マシンはたとえば別の OS を動かすこともできます。

## アプリケーションコンテナとシステムコンテナ

（たとえば Docker で提供される）アプリケーションコンテナは単一のプロセスあるいはアプリケーションをパッケージするものです。一方、システムコンテナは完全な OS をシミュレートし、同時に複数のプロセスを稼働させます。

ですので、アプリケーションは分離したコンポーネントを提供するのに適しているのに対して、システムコンテナはライブラリ、アプリケーション、データベースなど、あらゆるソリューションを提供します。さらに、異なるユーザー空間を作成し、それぞれのユーザー空間に属するすべてのプロセスを隔離するためにシステムコンテナを使うこともできます。これらの用途はアプリケーションコンテナ向きではありません。

![アプリケーションとシステムコンテナ](/images/application-vs-system-containers.svg "アプリケーションとシステムコンテナ")

## 仮想マシンとシステムコンテナ

仮想マシンは完全で隔離された OS を使いホストシステムのハードウェアを使用して物理マシンをエミュレートします。一方、システムコンテナは自分自身のカーネルを作成せずホストシステムのカーネルを使用します。複数のシステムコンテナを稼働させる場合、それらすべては同じカーネルを共有しますので、仮想マシンより高速で軽量になります。

Incus ではシステムコンテナと仮想マシンの両方を作成できます。必要な機能のすべてがホストの OS カーネルと互換性がある場合は、システムコンテナを使うとより小さいサイズで高パフォーマンスを得られます。ホストシステムの OS カーネルでサポートされない機能が必要かあるいは完全に異なる OS を使いたい場合は仮想マシンを使ってください。

![仮想マシンとシステムコンテナ](/images/virtual-machines-vs-system-containers.svg "仮想マシンとシステムコンテナ")
